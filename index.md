<h1 align="center">
	아니 근데 오늘 진짜
</h1>

<br/>

<h3 align="center">
	AI 대화형 일기 서비스
</h3>

<h3 align="center">
	Diary service with AI conversation
</h3>

<br/>
<br/>

<div align="center">
	<img src="https://img.shields.io/badge/-Nginx-009639?style=flat-square&logo=Nginx&logoColor=white">
	<img src="https://img.shields.io/badge/-NextJS-000000?style=flat-square&logo=nextdotjs&logoColor=white">
	<img src="https://img.shields.io/badge/-NestJS-E0234E?style=flat-square&logo=NestJS&logoColor=white">
	<img src="https://img.shields.io/badge/-MongoDB-47A248?style=flat-square&logo=MongoDB&logoColor=white">
	<img src="https://img.shields.io/badge/-Flask-000000?style=flat-square&logo=Flask&logoColor=white">
</div>

<br/>
<br/>

<h2 align="center">
	<a href="https://you-know-what.com">배포 페이지</a>
</h2>
<h4 align="center">
	<a href="https://drive.google.com/file/d/18bqswDEOVcPu1D90FBGsr8glIwOlZeSm/view?usp=sharing">
		중간 발표 자료
	</a>
	&nbsp;·&nbsp;
	<a href="https://drive.google.com/file/d/1XJN7Vt2rrojm7XwnVydat9RvGgAZMH4X/view?usp=drive_link">
		중간 보고서
	</a>
</h4>
<h4 align="center">
	<a href="https://drive.google.com/file/d/12EZlTcL4rrr7-hEzrB5mWKGs9HC87D04/view?usp=sharing">
		최종 발표 자료
	</a>
	&nbsp;·&nbsp;
	<a href="https://drive.google.com/file/d/1KxlDWy-xwMcMIni7Vu_rrMb5wnlehqdu/view?usp=sharing">
		최종 보고서
	</a>
</h4>

<br/>
<br/>

![13조_포스터](https://github.com/kookmin-sw/capstone-2024-13/assets/55086725/98090e01-1ce6-4236-9dc3-61848fa8a6e7)

<br/>
<br/>

## 소개 영상

👇 클릭 시 유튜브로 이동합니다.

[![소개 영상](https://img.youtube.com/vi/7CjY-KQOSqg/0.jpg)](https://youtu.be/7CjY-KQOSqg)

<br/>
<br/>

## Index

- [Abstract](#abstract)
- [Requirements](#requirements)
- [Install](#install)
- [Software Architecture](#software-architecture)
- [Research](#research)
- [Licence](#licence)
- [Contact](#contact)

<br/>
<br/>

## Abstract

<span>이 프로젝트는 사용자가 AI와 음성으로 대화하며 일기를 작성할 수 있는 서비스를 개발하는 것을 목표로 합니다. 현대인들은 글을 쓰는 것에 부담을 느끼거나 바쁜 일상 속에서 시간이 부족하여 일기 작성을 꾸준히 하지 못하는 경우가 많습니다. 이러한 문제를 해결하기 위해, 본 서비스는 기존 일기 작성 방식이 아닌 음성 인식과 자연어 처리 기술을 활용한 새로운 방식을 제공하여 사용자로 하여금 쉽고 재밌게 일기를 작성할 수 있도록 돕습니다.</span>

<span>본 프로젝트와 서비스는 다음과 같은 기대효과가 있습니다. STT와 TTS를 이용한 음성 대화 기반의 인터페이스를 제공하여 글을 작성하는 부담감을 완화시켜줍니다. 일기는 대규모 언어 모델이 생성해주는 질문에 대답하는 과정을 통해 작성되어 사용자가 일기를 작성할 때 오늘 무엇을 했는지, 어떤 일이 있었는지 생각해야하는 부담을 줄여줍니다. 사용자는 가상의 캐릭터와 대화하며 다른 누군가와 대화하는 것보다 오늘 있었던 일과 자신의 감정을 보다 진솔하게 이야기하고 정리할 수 있습니다.</span>

<br/>

<span>This project aims to develop a service that allows users to keep a diary by voice communication with AI. Modern people often feel burdened with writing or are unable to consistently keep a diary due to lack of time in their busy daily lives. To solve this problem, this service provides a new method that utilizes speech recognition and natural language processing technology, rather than the traditional method of keeping a diary, to help users write their diary easily and in a fun way.</span>

<span>This project and service have the following expected effects. By providing a voice conversation-based interface using STT and TTS, it relieves the burden of writing. Diary is created by answering questions generated by large language models, reducing the burden of users having to think about what they did today and what happened when writing their diary. Users can talk and organize what happened today and their emotions more honestly than talking to someone else by talking to a virtual character.</span>

<br/>
<br/>

## Requirements

### [Docker](https://www.docker.com)

- Download docker for your OS

#### Current version of docker with this repository

- Docker version 25.0.3
- Docker Compose version v2.24.5-desktop.1

### Make

#### Install make for your OS

<br/>
<br/>

## Install

### .env

    $ cp .env.sample .env

- Set your own value of environment variables in `.env` file
- **You have to protect your `.env` file from being exposed to the public**

<br/>

### Dockerfile

- You can change the contents of the Dockerfile to suit your needs.

<br/>

### Volumes

- Check the volumes' path in the `docker-compose.yml` file
- The path will be mounted to the container

<br/>
<br/>

## Usage

### Supported Makefile commands

- `make (up)`: Run and build containers, networks, volumes and images
- `make down`: Stop and remove containers, networks, volumes and images
- `make start`: Start containers
- `make stop`: Stop containers

### Status

- You can get the status of the containers with `docker ps`
- You can get the log of the containers with `docker logs <container_name>`

<br/>
<br/>

## Software Architecture

![Software Architecture](./assets/Software%20Architecture.png)

<br/>
<br/>

## Research

### [Secure](./secure)

최근 몇 년 동안 웹 애플리케이션을 대상으로 한 사이버 보안 사건의 빈도와 심각성이 크게 증가했습니다.

본 서비스에서 Secure research의 주요 목적은 웹 애플리케이션을 사이버 공격으로부터 사전에 보호하여 허가되지 않은 접근, 사용, 공개, 손상, 변경, 파괴 등으로부터 보호함으로써 무결성, 기밀성, 가용성을 제공하는 것입니다.

현재까지 크게 모델링, 취약점 진단 그리고 보안 기법 적용, 3가지의 조사를 진행했습니다.

자세한 내용은 [여기](./secure)에서 확인할 수 있습니다.

<br/>

### [AI](./src/service/mystic/)

대규모 언어 모델의 발전으로 인공지능과의 자연스러운 대화가 가능해졌습니다. 이를 이용하여 원하는 유형의 챗봇과 대화하고, 대화를 일기로 작성하는 것이 가능해졌습니다. 본 프로젝트를 진행하기 위해 다양한 AI 기술이 사용되었습니다. 

Mystic은 STT 및 TTS 기술을 사용하여 LLM과 대화하여 다이어리를 생성하는 API를 제공합니다.

자세한 내용은 [여기](./src/service/mystic/)에서 확인할 수 있습니다.

이 저장소에는 STT, TTS, LLM 프롬프트 엔지니어링, LLM 파인튜닝, 이미지 캡셔닝이 포함되어 있습니다.

#### [STT](./src/service/mystic/src/model/stt)

LLM에 사용자의 발화를 입력하기 위한 음성 인식기술이 필요합니다. 이를 위해 Speech-to-Text 기능을 구현하였습니다.

현재 사용중인 모델은 open source model Whisper입니다. 다국어 입출력을 지원하며, 대규모 데이터셋을 통해 학습되었기 때문에 억양이나 소음에 강건한 정확도를 보입니다.

자세한 내용은 [여기](./src/service/mystic/src/model/stt)에서 확인할 수 있습니다.

#### [LLM](./src/service/mystic/src/model/llm)

LLM은 챗봇을 통한 자연스러운 대화와, 대화를 통한 일기 생성을 위해 필요합니다. 이를 위해 Prompt Engineering과 Fine-tuning을 진행하였습니다.

현재 사용중인 모델은 ChatGPT-3.5-turbo입니다. 현재 가장 많이 사용되는 모델 중 하나입니다. 질문에 대해 빠른 속도로 적절한 답변을 생성합니다.

자세한 내용은 [여기](./src/service/mystic/src/model/llm)에서 확인할 수 있습니다.

#### [TTS](./src/service/mystic/src/model/tts)

LLM의 Output인 Text를 Speech 즉, 음성데이터로 변환하는 기술이 필요합니다. 이를 위해 Text-to-Speech 기능을 구현하였으며 추가적으로 유명인의 목소리를 합성하는 Voice Clonning 기능도 구현하였습니다.

사용중인 모델은 ⓍTTS입니다. 이 모델은 다국어 음성을 생성할 수 있습니다. 고품질의 음성을 합성할 수 있으며, Streaming Inference latency는 200ms 미만입니다. 따라서 실시간성과 음성 품질을 모두 가져갈 수 있는 모델이라고 생각하여 선택하였습니다.

자세한 내용은 [여기](./src/service/mystic/src/model/tts)에서 확인할 수 있습니다.

<br/>
<br/>

## Licence

This project is licensed under the MIT License - see the [LICENSE](./LICENSE) file for details.

<br/>
<br/>

## Contact

#### 장정안 (팀장) &nbsp;&nbsp;[@jeongahn](https://github.com/jeongahn)

<img align="left" src="https://github.com/kookmin-sw/capstone-2024-13/assets/55086725/1e1510b1-ef67-4b51-a26f-c43732682617" width="148" height="160" alt="jeongahn">

```
Student ID: 20191658
Email: inetty@kookmin.ac.kr
Role: Offensive Security Researcher, Front-end Developer
	• 코드 취약점 분석
	• 버그 패턴 분석 및 버그 픽스
	• 보안 컨설팅 (서비스 보안 요소 문서화)
	• NextJS 프론트 개발
```

<br/>
<br/>

#### 황영서 &nbsp;&nbsp;[@younganswer](https://github.com/younganswer)

<img align="left" src="https://github.com/younganswer/capstone/assets/55086725/71a27285-3ab5-4829-a82f-16e9af05dcd5" width="148" height="148" alt="younganswer">

```
Student ID: 20191691
Email: younganswer@kookmin.ac.kr
Role: Cloud Engineer, Full Stack Developer
	• AWS 서비스 구축
	• 시스템 Dockerize
	• NextJS, NestJS 풀스택 개발
```

<br/>
<br/>

#### 윤현승 &nbsp;&nbsp;[@yoon2000](https://github.com/yoon2000)

<img align="left" src="https://github.com/younganswer/capstone/assets/55086725/dce87a63-8710-4f3e-b134-ff55cf87bcf0" width="148" height="148" alt="yoon2000">

```
Student ID: 20191634
Email: yoonhs02@kookmin.ac.kr
Role: Full stack Developer
	• 데이터베이스 스키마 구조 설계
	• API 문서 작성 및 백엔드 개발
	• NextJS를 활용한 프론트엔드 개발
```

<br/>
<br/>

#### 조현준 &nbsp;&nbsp;[@hyunjoon0208](https://github.com/hyunjoon0208)

<img align="left" src="https://github.com/younganswer/capstone/assets/55086725/8c76e63a-607f-4002-b6ff-a693b20ff926" width="148" height="148" alt="hyunjoon0208">

```
Student ID: 20191674
Email: juatis96@kookmin.ac.kr
Role: MLOps
	• STT, TTS 모델 구현 및 학습
	• AI API 개발 및 배포
```

<br/>
<br/>

#### 최선우 &nbsp;&nbsp;[@woonsango](https://github.com/woonsango)

<img align="left" src="https://github.com/younganswer/capstone/assets/55086725/a1a824ba-6fbc-47a3-9d9d-6b9c2e5e4302" width="148" height="148" alt="woonsango">

```
Student ID: 20223149
Email: doldol9080@kookmin.ac.kr
Role: AI Developer
	• LLM fine tuning
	• Prompt Engineering
	• Image Captioning
```
